<% provide(:title, "Games") %>

<h2> All Games

<table class="games">

<style>
      table {
        border-collapse: collapse;
        margin: 0;
        width: 100%;
      }
      td, th {
        padding: 1em;
        text-align: center;
      }
</style>

<thead>
<tr>
  <th>Game</th>
  <th>Date</th>
  <th>Home Team</th>
  <th>Visiting Team</th>
  <th>Status</th>
  <th>Play Now?</th>
  <th>More Info</th>
</tr>
</thead>

<tbody>

<% @games.each do |game| %>
<tr>

  <td><%= game.game_name%></td>
  <td><%= game.date%></td>
  <td><%= game.hometeam%></td>
  <td><%= game.visteam%></td>
  <td><%= get_state(game)%></td>
  <td><% if !game.is_finished? %>
  <%=link_to '<button type="button">Play!</button>'.html_safe, user_game_join_path(current_user, game) %>
  <% end %>
  </td>
  <td><%=link_to "More about #{game.game_name}", game_path(game)%></td> 
</tr>
<% end %>

</tbody>
</table>
